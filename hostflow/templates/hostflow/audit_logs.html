{% extends 'hostflow/base.html' %}
{% block title %}Audit Logs{% endblock %}
{% block page_title %}Audit Logs{% endblock %}
{% block content %}
<div class="card">
  <table class="table table-sm table-hover mb-0">
    <thead class="table-light">
      <tr><th>Time</th><th>Action</th><th>Model</th><th>ID</th><th>Description</th></tr>
    </thead>
    <tbody>
    {% for log in logs %}
    <tr>
      <td class="text-muted small">{{ log.timestamp|date:"d M Y H:i" }}</td>
      <td>
        {% if log.action == 'create' %}<span class="badge bg-success">Created</span>
        {% elif log.action == 'update' %}<span class="badge bg-primary">Updated</span>
        {% else %}<span class="badge bg-danger">Deleted</span>{% endif %}
      </td>
      <td>{{ log.model_name }}</td>
      <td>#{{ log.object_id }}</td>
      <td class="small">{{ log.description }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="5" class="text-center text-muted py-4">No audit logs.</td></tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
